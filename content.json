{"posts":[{"title":"【chatGPT】基于Docker如何快速部署自己的ChatGPT","text":"# 基于 Docker 如何快速部署自己的 ChatGPT # 背景 随着 OpenAI 在 2022 年底发布的 LLM 模型 - ChatGPT 展现出的强大效果，ChatGPT 无疑成为了当下炙手可热的明星模型。 现有的基于 GPT 的开源项目已经非常多，本文以现有的高热度 github 开源项目 chatgpt-web 为例，教大家简单快速地搭建属于自己的 ChatGPT。 # ChatGPT-Web chatgpt-web 项目中的部署教程已经非常完整，本文不再过多解释。 仅以 Docker 部署为例 前置条件 本地或者服务器应该具有 Docker 环境 具有 ChatGPT 帐号 以 token 模式为例，请求 chatgpt web 版本，免费但稍微具有延迟 Step1. 找到你帐号的 token 点击 https://chat.openai.com/api/auth/session，获取你帐号的 token，并记录他 Step2. 运行 docker 按需配置访问 Web 页面的密码，Token、超时等信息 12docker run --name chatgpt-web -d -p 127.0.0.1:3888:3002 --env OPENAI_ACCESS_TOKEN=your_access_token --env AUTH_SECRET_KEY=you_secret_key chenzhaoyu94/chatgpt-web1 Step3. 访问 localhost:3002 查看效果 在上述步骤中我们无需进行任何代理，就可以直接与 GPT 交流，使用 API 方式同理。当然了，根据项目作者的介绍，使用 API 时需要进行代理自建。 如果你只是在本地部署给自己使用，那么以上 3 步就满足了需求，如果想要在公网访问，或者像 App 一样访问你的 ChatGPT，那么请接着往下看。 # Nginx 反向代理 以宝塔面板为例，我们在服务器上拉起 docker 镜像后，可以通过 ip:port 进行访问 但通常来说我们的网站带有域名，以笔者所使用的腾讯云服务器为例 前置条件 拥有一个域名 拥有一台云服务器 Step1. SSL 证书 首先在云产品中找到 SSL 证书，点击我的证书 - 免费证书 - 申请免费证书 填写申请的域名，申请成功之后，点击下载，下载 nginx 格式的即可 Step2. 配置域名 SSL 在宝塔面板中选择 - 网站 - 添加站点 填写刚刚申请 SSL 证书的域名，选择纯静态，其余默认，点击确定即可 Step3. 配置证书 点击添加好的网站，然后点击 SSL，填入刚刚下载的文件中的 key 和 pem 配置完成后点击保存 Step4. 配置 DNS 解析 在云产品中搜索 - 云解析 - 选择 DNS 解析 DNSPod 点击我的域名 - 添加记录 填入刚刚申请的域名，如果带有前缀，则第一个红框填入你的域名前缀，比如 www.baidu.com，则这里填 www 第二个红框填写你的服务器 ip，或者你的 CDN 域名 Step5. 配置反向代理 在宝塔面板中，点击刚刚添加的网站，点击反向代理，填入刚刚 docker 启动时的宿主机端口 如上文中的 3888 以上配置完成之后，访问 https:// 你的域名就可以了～ # PWA 支持 PWA 技术可以让我们访问网站能够拥有访问 App 一般的体验，在 chatgpt-web 中已经内嵌，但默认是关闭的 我们可以通过设置启动时的参数 -env VITE_GLOB_APP_PWA=true 将他打开 12docker run --name chatgpt-web -d -p 127.0.0.1:3888:3002 --env OPENAI_ACCESS_TOKEN=your_access_token --env AUTH_SECRET_KEY=you_secret_key --env VITE_GLOB_APP_PWA=true chenzhaoyu94/chatgpt-web1 部署成功之后，我们再到手机上访问该网站时便可以保存他在桌面了。 默认的 PWA 图标和全局用户信息配置在项目中，即使在网页可以修改当前登陆者的用户信息，在清除 Cookie 之后便会还原，如果你想定制这两种信息，请拉下 chatgpt-web 项目进行镜像自定义","link":"/2023/07/03/%E3%80%90ChatGPT%E3%80%91%E5%9F%BA%E4%BA%8EDocker%E5%A6%82%E4%BD%95%E5%BF%AB%E9%80%9F%E9%83%A8%E7%BD%B2%E8%87%AA%E5%B7%B1%E7%9A%84ChatGPT/"}],"tags":[],"categories":[],"pages":[]}